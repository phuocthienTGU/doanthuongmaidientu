<!DOCTYPE html>
<html lang="vi">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Li√™n h·ªá - Jollibee Clone</title>
    <style>
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
        font-family: "Arial", sans-serif;
      }

      body {
        background-color: #f5f5f5;
        color: #333;
      }

      /* HEADER */
      header {
        background: #d6001c;
        padding: 15px 40px;
        display: flex;
        justify-content: space-between;
        align-items: center;
        color: white;
      }
      header .logo {
        font-size: 28px;
        font-weight: bold;
      }
      header nav a {
        color: white;
        margin-left: 25px;
        text-decoration: none;
        font-size: 18px;
      }

      /* MAIN CONTENT */
      .contact-container {
        max-width: 1200px;
        margin: 40px auto;
        padding: 0 20px;
      }

      .contact-header {
        text-align: center;
        margin-bottom: 40px;
      }

      .contact-header h1 {
        color: #d6001c;
        font-size: 36px;
        margin-bottom: 10px;
      }

      .contact-header p {
        color: #666;
        font-size: 18px;
      }

      /* CONTACT SECTIONS */
      .contact-sections {
        display: grid;
        grid-template-columns: 1fr;
        gap: 30px;
        margin-bottom: 50px;
      }

      .contact-section {
        background: white;
        border-radius: 10px;
        padding: 30px;
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
      }

      .contact-section h2 {
        color: #d6001c;
        font-size: 24px;
        margin-bottom: 20px;
        padding-bottom: 10px;
        border-bottom: 2px solid #f0f0f0;
      }

      .contact-info {
        font-size: 16px;
        line-height: 1.6;
      }

      .contact-info p {
        margin-bottom: 10px;
      }

      .contact-info strong {
        color: #d6001c;
      }

      /* ACTION BUTTONS */
      .action-buttons {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
        gap: 20px;
        margin-top: 20px;
      }

      .action-btn {
        background: #d6001c;
        color: white;
        border: none;
        border-radius: 8px;
        padding: 20px;
        font-size: 18px;
        cursor: pointer;
        transition: all 0.3s ease;
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        text-align: center;
      }

      .action-btn:hover {
        background: #b30015;
        transform: translateY(-3px);
        box-shadow: 0 5px 15px rgba(214, 0, 28, 0.2);
      }

      .action-btn i {
        font-size: 32px;
        margin-bottom: 10px;
      }

      /* MODALS */
      .modal {
        display: none;
        position: fixed;
        z-index: 1000;
        left: 0;
        top: 0;
        width: 100%;
        height: 100%;
        background-color: rgba(0, 0, 0, 0.5);
      }

      .modal-content {
        background-color: white;
        margin: 5% auto;
        padding: 30px;
        border-radius: 10px;
        width: 90%;
        max-width: 500px;
        position: relative;
      }

      .close-btn {
        position: absolute;
        right: 20px;
        top: 15px;
        font-size: 28px;
        cursor: pointer;
        color: #999;
      }

      .close-btn:hover {
        color: #d6001c;
      }

      .modal h3 {
        color: #d6001c;
        margin-bottom: 20px;
        font-size: 24px;
      }

      /* FORM STYLES */
      .form-group {
        margin-bottom: 20px;
      }

      .form-group label {
        display: block;
        margin-bottom: 5px;
        font-weight: bold;
      }

      .form-group input,
      .form-group textarea,
      .form-group select {
        width: 100%;
        padding: 12px;
        border: 1px solid #ddd;
        border-radius: 5px;
        font-size: 16px;
      }

      .form-group textarea {
        min-height: 120px;
        resize: vertical;
      }

      .submit-btn {
        background: #d6001c;
        color: white;
        border: none;
        padding: 12px 24px;
        border-radius: 5px;
        font-size: 16px;
        cursor: pointer;
        width: 100%;
        transition: background 0.3s;
      }

      .submit-btn:hover {
        background: #b30015;
      }

      /* CHAT STYLES */
      .chat-container {
        height: 400px;
        display: flex;
        flex-direction: column;
      }

      .chat-messages {
        flex: 1;
        overflow-y: auto;
        padding: 15px;
        background: #f9f9f9;
        border-radius: 5px;
        margin-bottom: 15px;
      }

      .message {
        margin-bottom: 10px;
        padding: 10px;
        border-radius: 5px;
        max-width: 80%;
      }

      .user-message {
        background: #d6001c;
        color: white;
        margin-left: auto;
      }

      .admin-message {
        background: #e9e9e9;
        color: #333;
        margin-right: auto;
      }

      .chat-input {
        display: flex;
        gap: 10px;
      }

      .chat-input input {
        flex: 1;
        padding: 12px;
        border: 1px solid #ddd;
        border-radius: 5px;
      }

      .send-btn {
        background: #d6001c;
        color: white;
        border: none;
        padding: 0 20px;
        border-radius: 5px;
        cursor: pointer;
      }

      /* CALL MODAL */
      .call-info {
        text-align: center;
        padding: 30px 0;
      }

      .call-number {
        font-size: 36px;
        color: #d6001c;
        font-weight: bold;
        margin: 20px 0;
      }

      .call-btn {
        background: #4caf50;
        color: white;
        border: none;
        padding: 15px 30px;
        border-radius: 5px;
        font-size: 18px;
        cursor: pointer;
        margin-top: 20px;
        text-decoration: none;
        display: inline-block;
      }

      .call-btn:hover {
        background: #45a049;
      }

      /* FOOTER */
      footer {
        margin-top: 40px;
        padding: 20px;
        background: #d6001c;
        color: white;
        text-align: center;
      }

      /* RESPONSIVE */
      @media (max-width: 768px) {
        header {
          padding: 15px 20px;
          flex-direction: column;
          gap: 15px;
        }

        header nav {
          display: flex;
          flex-wrap: wrap;
          justify-content: center;
          gap: 10px;
        }

        header nav a {
          margin-left: 0;
        }

        .action-buttons {
          grid-template-columns: 1fr;
        }

        .contact-section {
          padding: 20px;
        }
      }
    </style>
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css"
    />
  </head>
  <body>
    <script src="img-config.js"></script>
    <!-- HEADER -->
    <header>
      <div class="logo">Jollibee Clone</div>
      <nav>
        <a href="index.html">Trang ch·ªß</a>
        <a href="thucdon.html">Th·ª±c ƒë∆°n</a>
        <a href="#">Khuy·∫øn m√£i</a>
        <a href="lienhe.html">Li√™n h·ªá</a>
        <a href="theodoi.html">Theo d√µi ƒë∆°n h√†ng</a>
        <a
          id="cart-btn"
          href="giohang.html"
          style="
            background: yellow;
            padding: 6px 12px;
            border-radius: 6px;
            color: black !important;
            font-weight: bold;
            margin-left: 15px;
          "
        >
          üõí Gi·ªè h√†ng (<span id="cart-count">0</span>)
        </a>
        <span id="user-area" style="margin-left: 20px; font-size: 18px"></span>
      </nav>
    </header>

    <!-- MAIN CONTENT -->
    <div class="contact-container">
      <div class="contact-header">
        <h1>Li√™n h·ªá v·ªõi ch√∫ng t√¥i</h1>
        <p>Ch√∫ng t√¥i lu√¥n s·∫µn s√†ng h·ªó tr·ª£ b·∫°n m·ªçi l√∫c, m·ªçi n∆°i</p>
      </div>

      <div class="contact-sections">
        <!-- TR·ª§ S·ªû CH√çNH -->
        <section class="contact-section">
          <h2><i class="fas fa-building"></i> Tr·ª• s·ªü ch√≠nh</h2>
          <div class="contact-info">
            <p>
              <strong>ƒê·ªãa ch·ªâ:</strong> T·∫ßng 26, T√≤a nh√† Cl√≠ Tower, s·ªë 152 ƒêi·ªán
              Bi√™n Ph√∫, Ph∆∞·ªùng 25, Qu·∫≠n B√¨nh Th·∫°nh, Th√†nh ph·ªë H·ªì Ch√≠ Minh, Vi·ªát
              Nam
            </p>
            <p><strong>ƒêi·ªán tho·∫°i:</strong> (028) 39309168</p>
            <p><strong>Email:</strong> info@jollibeeclone.com</p>
            <p>
              <strong>Gi·ªù l√†m vi·ªác:</strong> 8:00 - 20:00 (Th·ª© 2 - Ch·ªß nh·∫≠t)
            </p>
          </div>
        </section>

        <!-- CHƒÇM S√ìC KH√ÅCH H√ÄNG -->
        <section class="contact-section">
          <h2><i class="fas fa-headset"></i> ChƒÉm s√≥c kh√°ch h√†ng</h2>
          <p style="margin-bottom: 20px">
            Ch√∫ng t√¥i lu√¥n l·∫Øng nghe v√† h·ªó tr·ª£ b·∫°n. H√£y l·ª±a ch·ªçn h√¨nh th·ª©c li√™n
            h·ªá ph√π h·ª£p:
          </p>

          <div class="action-buttons">
            <button class="action-btn" id="feedback-btn">
              <i class="fas fa-comment-dots"></i>
              G√≥p √Ω
            </button>

            <button class="action-btn" id="chat-btn">
              <i class="fas fa-comments"></i>
              G·ª≠i tin nh·∫Øn
            </button>

            <button class="action-btn" id="call-btn">
              <i class="fas fa-phone-alt"></i>
              G·ªçi t·ªïng ƒë√†i
            </button>
          </div>
        </section>
      </div>
    </div>

    <!-- FOOTER -->
    <footer>¬© 2025 Jollibee Clone - Giao di·ªán k·∫øt n·ªëi CSDL</footer>

    <!-- MODALS -->

    <!-- G√ìP √ù MODAL -->
    <div id="feedback-modal" class="modal">
      <div class="modal-content">
        <span class="close-btn" onclick="closeModal('feedback-modal')"
          >&times;</span
        >
        <h3><i class="fas fa-comment-dots"></i> G·ª≠i g√≥p √Ω</h3>
        <form id="feedback-form">
          <div class="form-group">
            <label for="feedback-name">H·ªç v√† t√™n *</label>
            <input type="text" id="feedback-name" required />
          </div>
          <div class="form-group">
            <label for="feedback-phone">S·ªë ƒëi·ªán tho·∫°i *</label>
            <input type="tel" id="feedback-phone" required />
          </div>
          <div class="form-group">
            <label for="feedback-email">Email</label>
            <input type="email" id="feedback-email" />
          </div>
          <div class="form-group">
            <label for="feedback-type">Lo·∫°i g√≥p √Ω *</label>
            <select id="feedback-type" required>
              <option value="">Ch·ªçn lo·∫°i g√≥p √Ω</option>
              <option value="service">Ch·∫•t l∆∞·ª£ng d·ªãch v·ª•</option>
              <option value="food">Ch·∫•t l∆∞·ª£ng m√≥n ƒÉn</option>
              <option value="delivery">Giao h√†ng</option>
              <option value="staff">Nh√¢n vi√™n</option>
              <option value="other">Kh√°c</option>
            </select>
          </div>
          <div class="form-group">
            <label for="feedback-content">N·ªôi dung g√≥p √Ω *</label>
            <textarea
              id="feedback-content"
              placeholder="Vui l√≤ng chia s·∫ª chi ti·∫øt g√≥p √Ω c·ªßa b·∫°n..."
              required
            ></textarea>
          </div>
          <button type="submit" class="submit-btn">G·ª≠i g√≥p √Ω</button>
        </form>
      </div>
    </div>

    <!-- CHAT MODAL -->
    <div id="chat-modal" class="modal">
      <div class="modal-content">
        <span class="close-btn" onclick="closeModal('chat-modal')"
          >&times;</span
        >
        <h3><i class="fas fa-comments"></i> Tr√≤ chuy·ªán v·ªõi ch√∫ng t√¥i</h3>
        <div class="chat-container">
          <div class="chat-messages" id="chat-messages">
            <div class="message admin-message">
              <strong>Jollibee Support:</strong> Xin ch√†o! Ch√∫ng t√¥i c√≥ th·ªÉ gi√∫p
              g√¨ cho b·∫°n?
            </div>
          </div>
          <div class="chat-input">
            <input
              type="text"
              id="chat-input"
              placeholder="Nh·∫≠p tin nh·∫Øn c·ªßa b·∫°n..."
            />
            <button class="send-btn" id="send-btn">
              <i class="fas fa-paper-plane"></i>
            </button>
          </div>
        </div>
      </div>
    </div>

    <!-- CALL MODAL -->
    <div id="call-modal" class="modal">
      <div class="modal-content">
        <span class="close-btn" onclick="closeModal('call-modal')"
          >&times;</span
        >
        <h3><i class="fas fa-phone-alt"></i> G·ªçi t·ªïng ƒë√†i</h3>
        <div class="call-info">
          <p>Li√™n h·ªá v·ªõi ch√∫ng t√¥i qua s·ªë t·ªïng ƒë√†i mi·ªÖn ph√≠:</p>
          <div class="call-number">1900 1234</div>
          <p>Th·ªùi gian l√†m vi·ªác: 8:00 - 20:00 h√†ng ng√†y</p>
          <a href="tel:19001234" class="call-btn">
            <i class="fas fa-phone"></i> G·ªçi ngay
          </a>
        </div>
      </div>
    </div>

    <script>
      // X·ª≠ l√Ω ng∆∞·ªùi d√πng
      function loadUser() {
        const userArea = document.getElementById("user-area");
        const user = localStorage.getItem("user");

        if (!user) {
          userArea.innerHTML = `
                    <a href="login.html" style="color: yellow;">ƒêƒÉng nh·∫≠p</a>
                `;
          return;
        }

        const u = JSON.parse(user);
        const name = u.hoTen || u.username || u.ten || null;

        if (name) {
          userArea.innerHTML = `
                    Xin ch√†o, <b>${name}</b> |
                    <a href="#" onclick="logout()" style="color: yellow;">ƒêƒÉng xu·∫•t</a>
                `;
        }
      }

      function logout() {
        localStorage.removeItem("user");
        alert("ƒê√£ ƒëƒÉng xu·∫•t!");
        loadUser();
      }

      // Modal functions
      function openModal(modalId) {
        document.getElementById(modalId).style.display = "block";
      }

      function closeModal(modalId) {
        document.getElementById(modalId).style.display = "none";
      }

      // G·ª£i √Ω modal
      document.getElementById("feedback-btn").onclick = () =>
        openModal("feedback-modal");
      document.getElementById("chat-btn").onclick = () =>
        openModal("chat-modal");
      document.getElementById("call-btn").onclick = () =>
        openModal("call-modal");

      // ƒê√≥ng modal khi click b√™n ngo√†i
      window.onclick = function (event) {
        if (event.target.classList.contains("modal")) {
          event.target.style.display = "none";
        }
      };

      // X·ª≠ l√Ω form g√≥p √Ω
      document.getElementById("feedback-form").onsubmit = function (e) {
        e.preventDefault();

        const name = document.getElementById("feedback-name").value;
        const phone = document.getElementById("feedback-phone").value;
        const type = document.getElementById("feedback-type").value;
        const content = document.getElementById("feedback-content").value;

        // L∆∞u v√†o localStorage (trong th·ª±c t·∫ø s·∫Ω g·ª≠i ƒë·∫øn server)
        const feedbacks = JSON.parse(localStorage.getItem("feedbacks") || "[]");
        feedbacks.push({
          name,
          phone,
          type,
          content,
          timestamp: new Date().toISOString(),
        });
        localStorage.setItem("feedbacks", JSON.stringify(feedbacks));

        alert(
          "C·∫£m ∆°n b·∫°n ƒë√£ g·ª≠i g√≥p √Ω! Ch√∫ng t√¥i s·∫Ω xem x√©t v√† ph·∫£n h·ªìi s·ªõm nh·∫•t."
        );
        document.getElementById("feedback-form").reset();
        closeModal("feedback-modal");
      };

      // X·ª≠ l√Ω chat
      const chatMessages = document.getElementById("chat-messages");
      const chatInput = document.getElementById("chat-input");
      const sendBtn = document.getElementById("send-btn");

      function addMessage(sender, text, isUser = false) {
        const messageDiv = document.createElement("div");
        messageDiv.className = `message ${
          isUser ? "user-message" : "admin-message"
        }`;
        messageDiv.innerHTML = `<strong>${sender}:</strong> ${text}`;
        chatMessages.appendChild(messageDiv);
        chatMessages.scrollTop = chatMessages.scrollHeight;
      }

      sendBtn.onclick = function () {
        const message = chatInput.value.trim();
        if (message) {
          const user = JSON.parse(localStorage.getItem("user"));
          const userName = user ? user.hoTen || "Kh√°ch" : "Kh√°ch";

          addMessage(userName, message, true);
          chatInput.value = "";

          // Ph·∫£n h·ªìi t·ª± ƒë·ªông
          setTimeout(() => {
            const responses = [
              "C·∫£m ∆°n b·∫°n ƒë√£ li√™n h·ªá. Ch√∫ng t√¥i s·∫Ω ph·∫£n h·ªìi s·ªõm nh·∫•t!",
              "Th√¥ng tin c·ªßa b·∫°n ƒë√£ ƒë∆∞·ª£c ghi nh·∫≠n.",
              "B·∫°n c√≥ c·∫ßn h·ªó tr·ª£ th√™m g√¨ kh√¥ng?",
              "Ch√∫ng t√¥i ƒëang x·ª≠ l√Ω y√™u c·∫ßu c·ªßa b·∫°n.",
            ];
            const randomResponse =
              responses[Math.floor(Math.random() * responses.length)];
            addMessage("Jollibee Support", randomResponse, false);
          }, 1000);
        }
      };

      chatInput.onkeypress = function (e) {
        if (e.key === "Enter") {
          sendBtn.click();
        }
      };

      // Gi·ªè h√†ng
      async function updateCartCount() {
        const user = JSON.parse(localStorage.getItem("user"));
        const cartCount = document.getElementById("cart-count");

        if (!user) {
          cartCount.innerText = 0;
          return;
        }

        try {
          const res = await fetch(
            `http://localhost:5000/api/giohang/user/${user.maNguoiDung}`
          );
          if (!res.ok) throw new Error("Kh√¥ng l·∫•y ƒë∆∞·ª£c gi·ªè h√†ng");

          const data = await res.json();
          const total = data.chiTiet.reduce(
            (sum, item) => sum + item.SoLuong,
            0
          );
          cartCount.innerText = total;
        } catch (err) {
          console.error("L·ªói load cart count:", err);
          cartCount.innerText = 0;
        }
      }

      // Kh·ªüi t·∫°o
      document.addEventListener("DOMContentLoaded", function () {
        loadUser();
        updateCartCount();
      });
    </script>
  </body>
</html>

src="https://maps.googleapis.com/maps/api/js?key=YOUR_GOOGLE_API_KEY&callback=initMap"
